@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Light mode colors - Modern earth tones with WCAG AA contrast */
    --color-bg-primary: #FAF7F2; /* cream */
    --color-bg-secondary: #FFFFFF;
    --color-bg-tertiary: #F5F1EA;
    --color-text-primary: #1C1917; /* Very dark for excellent readability */
    --color-text-secondary: #292524; /* Dark gray-brown */
    --color-text-tertiary: #57534E; /* Medium gray - WCAG AA compliant */
    --color-border: #E8CDA7; /* desert */
    --color-accent: #4A6F4F; /* pine dark - better contrast */
    --color-accent-hover: #3A5A3F; /* pine darker */
  }

  .dark {
    /* Dark mode colors - high contrast for readability */
    --color-bg-primary: #0F0E0D; /* Very dark warm black */
    --color-bg-secondary: #1C1A18; /* Dark card background */
    --color-bg-tertiary: #2A2725; /* Slightly lighter */
    --color-text-primary: #FAFAF9; /* Near white - excellent contrast */
    --color-text-secondary: #E7E5E4; /* Light gray */
    --color-text-tertiary: #A8A29E; /* Medium gray - WCAG AA on dark */
    --color-border: #3D3A37; /* Visible border */
    --color-accent: #A5C4A8; /* pine light - good contrast on dark */
    --color-accent-hover: #6B9270; /* pine */
  }

  html {
    @apply antialiased scroll-smooth;
    background-color: var(--color-bg-primary);
    color: var(--color-text-primary);
    transition: background-color 0.3s ease, color 0.3s ease;
  }

  body {
    @apply font-body;
    background-color: var(--color-bg-primary);
    color: var(--color-text-primary);
  }

  h1, h2, h3, h4, h5, h6 {
    @apply font-heading;
  }

  h1 {
    @apply text-4xl md:text-5xl lg:text-6xl font-bold;
  }

  h2 {
    @apply text-3xl md:text-4xl font-bold;
  }

  h3 {
    @apply text-2xl md:text-3xl font-semibold;
  }
}

@layer components {
  /* Minimal circular pattern - very subtle */
  .pattern-circles {
    background-image: radial-gradient(circle at 20% 50%, rgba(232, 184, 109, 0.02) 0%, transparent 50%),
                      radial-gradient(circle at 80% 80%, rgba(212, 129, 106, 0.02) 0%, transparent 50%),
                      radial-gradient(circle at 40% 20%, rgba(122, 155, 126, 0.015) 0%, transparent 50%);
  }

  /* Minimal gradient for hero - very subtle */
  .gradient-sunrise {
    background: linear-gradient(135deg,
      #FAF7F2 0%,
      #F2DFC2 50%,
      #FAF7F2 100%
    );
  }

  /* Minimal shadow for cards */
  .card-shadow {
    box-shadow: 0 2px 8px rgba(107, 107, 107, 0.06);
    transition: box-shadow 0.3s ease;
  }

  .card-shadow:hover {
    box-shadow: 0 4px 16px rgba(107, 107, 107, 0.08);
  }
}

@layer utilities {
  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .animate-slide-in-right {
    animation: slideInRight 0.3s ease-out;
  }

  @keyframes slideInRight {
    from {
      transform: translateX(100%);
      opacity: 0;
    }
    to {
      transform: translateX(0);
      opacity: 1;
    }
  }
}

/* Print Styles */
@media print {
  @page {
    margin: 1cm;
    size: letter;
  }

  body {
    background: white !important;
    color: black !important;
  }

  /* Hide non-essential elements */
  nav,
  footer,
  .print\:hidden,
  button:not(.print\:block),
  [role="complementary"],
  aside,
  .no-print {
    display: none !important;
  }

  /* Show main content */
  main {
    max-width: 100% !important;
    margin: 0 !important;
    padding: 0 !important;
  }

  /* Card styles for print */
  .card,
  [class*="card"] {
    page-break-inside: avoid;
    break-inside: avoid;
    border: 1px solid #ddd !important;
    box-shadow: none !important;
    margin-bottom: 1rem !important;
  }

  /* Typography */
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
    break-after: avoid;
    color: black !important;
  }

  /* Links */
  a {
    color: black !important;
    text-decoration: underline;
  }

  a[href]:after {
    content: " (" attr(href) ")";
    font-size: 0.8em;
    font-style: italic;
  }

  /* Remove link URLs for internal links */
  a[href^="/"]:after,
  a[href^="#"]:after {
    content: "";
  }

  /* Ensure images don't overflow */
  img {
    max-width: 100% !important;
    page-break-inside: avoid;
  }

  /* Table styles */
  table {
    border-collapse: collapse;
    width: 100%;
  }

  th, td {
    border: 1px solid #ddd;
    padding: 8px;
    text-align: left;
  }

  /* Scholarship/Resource cards */
  .scholarship-card,
  .resource-card {
    border: 1px solid #333 !important;
    padding: 1rem !important;
    margin-bottom: 1rem !important;
  }

  /* Print header */
  .print-header {
    display: block !important;
    text-align: center;
    margin-bottom: 2rem;
    border-bottom: 2px solid #333;
    padding-bottom: 1rem;
  }

  /* Page breaks */
  .page-break {
    page-break-after: always;
  }

  .page-break-before {
    page-break-before: always;
  }

  .no-page-break {
    page-break-inside: avoid;
  }
}

/* Accessibility - Text Size Controls */
html.text-small {
  font-size: 14px;
}

html.text-medium {
  font-size: 16px; /* default */
}

html.text-large {
  font-size: 18px;
}

html.text-extra-large {
  font-size: 20px;
}

/* High Contrast Mode */
html.high-contrast {
  --color-bg-primary: #000000;
  --color-bg-secondary: #000000;
  --color-text-primary: #FFFFFF;
  --color-text-secondary: #FFFFFF;
  --color-text-tertiary: #FFFFFF;
  --color-accent: #FFD700;
  --color-accent-hover: #FFC700;
}

html.high-contrast body {
  background-color: #000000 !important;
  color: #FFFFFF !important;
}

html.high-contrast .bg-white {
  background-color: #000000 !important;
  border: 2px solid #FFFFFF !important;
}

html.high-contrast .bg-cream,
html.high-contrast .bg-desert {
  background-color: #1a1a1a !important;
}

html.high-contrast .text-text,
html.high-contrast .text-text-secondary,
html.high-contrast .text-text-muted,
html.high-contrast .text-gray-700,
html.high-contrast .text-gray-600,
html.high-contrast .text-gray-900 {
  color: #FFFFFF !important;
}

html.high-contrast a {
  color: #FFD700 !important;
  text-decoration: underline;
}

html.high-contrast button {
  border: 2px solid #FFFFFF !important;
}

html.high-contrast .border-desert,
html.high-contrast .border-desert\/20,
html.high-contrast .border-desert\/30,
html.high-contrast .border-desert\/40 {
  border-color: #FFFFFF !important;
}

/* Safe area for mobile devices with notch */
.h-safe-area-inset-bottom {
  height: env(safe-area-inset-bottom);
}

/* Mobile-first typography improvements */
@media (max-width: 640px) {
  /* Larger base text on mobile for readability */
  body {
    font-size: 17px;
    line-height: 1.6;
  }

  /* Better paragraph spacing on mobile */
  p {
    margin-bottom: 1rem;
  }

  /* Ensure cards have good text contrast */
  .card-shadow {
    background-color: #FFFFFF;
  }

  .dark .card-shadow {
    background-color: var(--color-bg-secondary);
  }
}

/* Ensure minimum touch target size */
@media (pointer: coarse) {
  button,
  a,
  [role="button"] {
    min-height: 44px;
    min-width: 44px;
  }

  /* Larger tap targets for form elements */
  input,
  select,
  textarea {
    min-height: 48px;
    font-size: 16px; /* Prevents zoom on iOS */
  }
}

/* Focus visible for accessibility */
:focus-visible {
  outline: 2px solid var(--color-accent);
  outline-offset: 2px;
}

/* Better link contrast */
a:not([class]) {
  color: var(--color-accent);
  text-decoration: underline;
  text-underline-offset: 2px;
}

a:not([class]):hover {
  color: var(--color-accent-hover);
}

/* Reduced motion preference */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* Better selection colors */
::selection {
  background-color: var(--color-accent);
  color: white;
}

.dark ::selection {
  background-color: var(--color-accent);
  color: #0F0E0D;
}
